{% extends "layout.jinja2" %}

{% block title %}Inicio - Good Habit{% endblock %}

{% block content %}

<h2 class="mb-4">Mis H치bitos</h2>

<a href="{{ request.route_url('add_habit') }}" class="btn btn-primary mb-3">A침adir nuevo h치bito</a>

{% if habits %}
    {% for habit in habits %}
    <div class="card mb-3 animate_animated animate_fadeIn">
        <div class="card-body">
            <h5 class="card-title">{{ habit.name }}</h5>
            <p class="card-text">{{ habit.description }}</p>
            <p class="card-text">
                <strong>Dificultad:</strong> {{ habit.difficulty }} |
                <strong>Frecuencia:</strong> {{ habit.frequency }}
            </p>
            <p class="card-text">
                <strong>Hoy:</strong>
                {% if progress_today[habit.id] %}
                    <span class="badge bg-success">Completado</span>
                {% else %}
                    <span class="badge bg-secondary">Pendiente</span>
                {% endif %}
            </p>
            <a href="{{ request.route_url('complete_habit', id=habit.id) }}" class="btn btn-success btn-sm">Completar</a>
            <a href="{{ request.route_url('edit_habit', id=habit.id) }}" class="btn btn-warning btn-sm">Editar</a>
            <a href="{{ request.route_url('delete_habit', id=habit.id) }}" class="btn btn-danger btn-sm delete-btn">Eliminar</a>
        </div>
    </div>
    {% endfor %}
{% else %}
    <div class="alert alert-info">
        춰A칰n no tienes h치bitos registrados! 游꺔 <br>
        Usa el bot칩n "A침adir nuevo h치bito" para comenzar.
    </div>
{% endif %}

{% endblock %}